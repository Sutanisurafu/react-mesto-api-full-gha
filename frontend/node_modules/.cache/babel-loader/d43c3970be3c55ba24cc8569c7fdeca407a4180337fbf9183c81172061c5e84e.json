{"ast":null,"code":"import _classCallCheck from\"C:/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var AuthApi=/*#__PURE__*/function(){function AuthApi(baseUrl){_classCallCheck(this,AuthApi);this._url=baseUrl;}_createClass(AuthApi,[{key:\"_request\",value:function _request(baseUrl,headers){return fetch(baseUrl,headers).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"register\",value:function register(_ref){var email=_ref.email,password=_ref.password;return this._request(\"\".concat(this._url,\"/signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});}},{key:\"login\",value:function login(_ref2){var email=_ref2.email,password=_ref2.password;return this._request(\"\".concat(this._url,\"/signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});}},{key:\"checkToken\",value:function checkToken(token){return this._request(\"\".concat(this._url,\"/users/me\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});}}]);return AuthApi;}();var authApi=new AuthApi(\"http://51.250.89.67:3000\");export default authApi;","map":{"version":3,"names":["AuthApi","baseUrl","_classCallCheck","_url","_createClass","key","value","_request","headers","fetch","then","_checkResponse","res","ok","json","Promise","reject","concat","status","register","_ref","email","password","method","body","JSON","stringify","login","_ref2","checkToken","token","Authorization","authApi"],"sources":["C:/dev/react-mesto-auth/src/utils/AuthApi.js"],"sourcesContent":["class AuthApi {\r\n  constructor(baseUrl) {\r\n    this._url = baseUrl;\r\n  }\r\n\r\n  _request(baseUrl, headers) {\r\n    return fetch(baseUrl, headers).then(this._checkResponse);\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  register({ email, password }) {\r\n    return this._request(`${this._url}/signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return this._request(`${this._url}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ email, password }),\r\n    });\r\n  }\r\n\r\n  checkToken(token) {\r\n    return this._request(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  }\r\n}\r\n\r\nconst authApi = new AuthApi(\"http://51.250.89.67:3000\");\r\n\r\nexport default authApi;\r\n\r\n"],"mappings":"2NAAM,CAAAA,OAAO,yBACX,SAAAA,QAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,OAAA,EACnB,IAAI,CAACG,IAAI,CAAGF,OAAO,CACrB,CAACG,YAAA,CAAAJ,OAAA,GAAAK,GAAA,YAAAC,KAAA,CAED,SAAAC,SAASN,OAAO,CAAEO,OAAO,CAAE,CACzB,MAAO,CAAAC,KAAK,CAACR,OAAO,CAAEO,OAAO,CAAC,CAACE,IAAI,CAAC,IAAI,CAACC,cAAc,CAAC,CAC1D,CAAC,GAAAN,GAAA,kBAAAC,KAAA,CAED,SAAAK,eAAeC,GAAG,CAAE,CAClB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,EAAE,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,EAAG,CAChD,CAAC,GAAAb,GAAA,YAAAC,KAAA,CAED,SAAAa,SAAAC,IAAA,CAA8B,IAAnB,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CACxB,MAAO,KAAI,CAACf,QAAQ,IAAAU,MAAA,CAAI,IAAI,CAACd,IAAI,YAAW,CAC1CoB,MAAM,CAAE,MAAM,CACdf,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACJ,CAAC,GAAAjB,GAAA,SAAAC,KAAA,CAED,SAAAqB,MAAAC,KAAA,CAA2B,IAAnB,CAAAP,KAAK,CAAAO,KAAA,CAALP,KAAK,CAAEC,QAAQ,CAAAM,KAAA,CAARN,QAAQ,CACrB,MAAO,KAAI,CAACf,QAAQ,IAAAU,MAAA,CAAI,IAAI,CAACd,IAAI,YAAW,CAC1CoB,MAAM,CAAE,MAAM,CACdf,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDgB,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAK,CAALA,KAAK,CAAEC,QAAQ,CAARA,QAAS,CAAC,CAC1C,CAAC,CAAC,CACJ,CAAC,GAAAjB,GAAA,cAAAC,KAAA,CAED,SAAAuB,WAAWC,KAAK,CAAE,CAChB,MAAO,KAAI,CAACvB,QAAQ,IAAAU,MAAA,CAAI,IAAI,CAACd,IAAI,cAAa,CAC5CoB,MAAM,CAAE,KAAK,CACbf,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCuB,aAAa,WAAAd,MAAA,CAAYa,KAAK,CAChC,CACF,CAAC,CAAC,CACJ,CAAC,WAAA9B,OAAA,KAGH,GAAM,CAAAgC,OAAO,CAAG,GAAI,CAAAhC,OAAO,CAAC,0BAA0B,CAAC,CAEvD,cAAe,CAAAgC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}