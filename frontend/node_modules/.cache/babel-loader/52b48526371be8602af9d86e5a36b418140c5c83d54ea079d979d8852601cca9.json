{"ast":null,"code":"import PopupWithForm from\"./PopupWithForm\";import React from\"react\";import{CurrentUserContextObj}from\"../contexts/CurrentUserContext\";import useForm from\"../hooks/useForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProfilePopup=function EditProfilePopup(_ref){var isOpen=_ref.isOpen,isLoading=_ref.isLoading,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=React.useContext(CurrentUserContextObj);var _useForm=useForm({name:\"\",about:\"\"}),form=_useForm.form,errors=_useForm.errors,handleChange=_useForm.handleChange;function handleSubmit(e){e.preventDefault();onUpdateUser({name:form.name,about:form.about});}React.useEffect(function(){form.name=currentUser.name;form.about=currentUser.about;},[isOpen,currentUser]);return/*#__PURE__*/_jsxs(PopupWithForm,{onSubmit:handleSubmit,isOpen:isOpen,onClose:onClose,name:\"edit-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:!isLoading?\"Сохранить\":\"Сохранение...\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.name||\"\",onChange:handleChange,name:\"name\",id:\"profile\",type:\"text\",className:\"popup__input popup__input_type_name\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F\",minLength:2,maxLength:20,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"profile-error\",className:\"error\",style:{marginLeft:36},children:errors.name})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"popup__label\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.about||\"\",onChange:handleChange,name:\"about\",id:\"speciality\",type:\"text\",className:\"popup__input popup__input_type_speciality\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043F\\u0435\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\",minLength:2,maxLength:200,required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"speciality-error\",className:\"error\",style:{marginLeft:36},children:errors.about})]})]});};export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","React","CurrentUserContextObj","useForm","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","isLoading","onClose","onUpdateUser","currentUser","useContext","_useForm","name","about","form","errors","handleChange","handleSubmit","e","preventDefault","useEffect","onSubmit","title","buttonText","children","className","value","onChange","id","type","placeholder","minLength","maxLength","required","style","marginLeft"],"sources":["C:/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from \"./PopupWithForm\";\r\nimport React from \"react\";\r\nimport { CurrentUserContextObj } from \"../contexts/CurrentUserContext\";\r\nimport useForm from \"../hooks/useForm\";\r\n\r\nconst EditProfilePopup = ({ isOpen, isLoading, onClose, onUpdateUser }) => {\r\n  const currentUser = React.useContext(CurrentUserContextObj);\r\n  const { form, errors, handleChange } = useForm({\r\n    name: \"\",\r\n    about: \"\",\r\n  });\r\n\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name: form.name,\r\n      about: form.about,\r\n    });\r\n  }\r\n  React.useEffect(() => {\r\n    form.name = currentUser.name;\r\n    form.about = currentUser.about;\r\n  }, [isOpen, currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      buttonText={!isLoading ? \"Сохранить\" : \"Сохранение...\"}\r\n    >\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={form.name || \"\"}\r\n          onChange={handleChange}\r\n          name=\"name\"\r\n          id=\"profile\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_type_name\"\r\n          placeholder=\"Введите имя\"\r\n          minLength={2}\r\n          maxLength={20}\r\n          required={true}\r\n        />\r\n        <span id=\"profile-error\" className=\"error\" style={{marginLeft: 36}}>{errors.name}</span>\r\n      </label>\r\n      <label className=\"popup__label\">\r\n        <input\r\n          value={form.about || \"\"}\r\n          onChange={handleChange}\r\n          name=\"about\"\r\n          id=\"speciality\"\r\n          type=\"text\"\r\n          className=\"popup__input popup__input_type_speciality\"\r\n          placeholder=\"Введите специальность\"\r\n          minLength={2}\r\n          maxLength={200}\r\n          required={true}\r\n        />\r\n        <span id=\"speciality-error\" className=\"error\" style={{marginLeft: 36}}>{errors.about}</span>\r\n      </label>\r\n    </PopupWithForm>\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}