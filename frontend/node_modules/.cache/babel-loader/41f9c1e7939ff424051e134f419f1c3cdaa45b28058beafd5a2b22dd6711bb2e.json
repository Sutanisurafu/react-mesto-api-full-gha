{"ast":null,"code":"var _jsxFileName = \"C:\\\\dev\\\\react-mesto-auth\\\\src\\\\components\\\\Card.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { CurrentUserContextObj } from \"../contexts/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Card(_ref) {\n  _s();\n  let {\n    card,\n    onCardClick,\n    onCardLike,\n    onCardDeleteClick\n  } = _ref;\n  const currentUser = React.useContext(CurrentUserContextObj);\n  const [isLiked, setIsLiked] = React.useState();\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner === currentUser._id;\n  const isLike = card.likes.map(owner => owner).includes(currentUser._id);\n  React.useEffect(() => {\n    setIsLiked(isLike);\n  }, [isLike]);\n  const cardLikeButtonClassName = `response-container__like-btn ${isLiked && \"response-container__like-btn_active\"}`;\n  function handleDeleteClick() {\n    onCardDeleteClick(card);\n  }\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n  function handleClick() {\n    onCardClick(card);\n  }\n  return /*#__PURE__*/_jsxDEV(\"article\", {\n    className: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: card.link,\n      alt: card.name,\n      className: \"card__image\",\n      onClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"card__title\",\n      children: card.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"response-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: cardLikeButtonClassName,\n        onClick: handleLikeClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"response-container__like-counter\",\n        children: card.likes.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), isOwn && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"trash-btn trash-btn_type_visible\",\n      onClick: handleDeleteClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Card, \"4OH8xOpZZ+vqpZNjSntiZHc4rc8=\");\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["React","CurrentUserContextObj","jsxDEV","_jsxDEV","Card","_ref","_s","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isLiked","setIsLiked","useState","isOwn","owner","_id","isLike","likes","map","includes","useEffect","cardLikeButtonClassName","handleDeleteClick","handleLikeClick","handleClick","className","children","src","link","alt","name","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","length","_c","$RefreshReg$"],"sources":["C:/dev/react-mesto-auth/src/components/Card.js"],"sourcesContent":["import React from \"react\";\r\nimport { CurrentUserContextObj } from \"../contexts/CurrentUserContext\";\r\nfunction Card({ card, onCardClick, onCardLike, onCardDeleteClick }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContextObj);\r\n  const [isLiked, setIsLiked] = React.useState();\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner === currentUser._id;\r\n  const isLike = card.likes.map((owner) => owner).includes(currentUser._id);\r\n\r\n  React.useEffect(() => {\r\n    setIsLiked(isLike);\r\n  }, [isLike]);\r\n\r\n  const cardLikeButtonClassName = `response-container__like-btn ${\r\n    isLiked && \"response-container__like-btn_active\"\r\n  }`;\r\n\r\n  function handleDeleteClick() {\r\n    onCardDeleteClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <img\r\n        src={card.link}\r\n        alt={card.name}\r\n        className=\"card__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <h2 className=\"card__title\">{card.name}</h2>\r\n      <div className=\"response-container\">\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <span className=\"response-container__like-counter\">\r\n          {card.likes.length}\r\n        </span>\r\n      </div>\r\n      {isOwn && (\r\n        <button\r\n          className=\"trash-btn trash-btn_type_visible\"\r\n          onClick={handleDeleteClick}\r\n        />\r\n      )}\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,qBAAqB,QAAQ,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACvE,SAASC,IAAIA,CAAAC,IAAA,EAAuD;EAAAC,EAAA;EAAA,IAAtD;IAAEC,IAAI;IAAEC,WAAW;IAAEC,UAAU;IAAEC;EAAkB,CAAC,GAAAL,IAAA;EAEhE,MAAMM,WAAW,GAAGX,KAAK,CAACY,UAAU,CAACX,qBAAqB,CAAC;EAC3D,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGd,KAAK,CAACe,QAAQ,EAAE;EAC9C;EACA,MAAMC,KAAK,GAAGT,IAAI,CAACU,KAAK,KAAKN,WAAW,CAACO,GAAG;EAC5C,MAAMC,MAAM,GAAGZ,IAAI,CAACa,KAAK,CAACC,GAAG,CAAEJ,KAAK,IAAKA,KAAK,CAAC,CAACK,QAAQ,CAACX,WAAW,CAACO,GAAG,CAAC;EAEzElB,KAAK,CAACuB,SAAS,CAAC,MAAM;IACpBT,UAAU,CAACK,MAAM,CAAC;EACpB,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEZ,MAAMK,uBAAuB,GAAI,gCAC/BX,OAAO,IAAI,qCACZ,EAAC;EAEF,SAASY,iBAAiBA,CAAA,EAAG;IAC3Bf,iBAAiB,CAACH,IAAI,CAAC;EACzB;EAEA,SAASmB,eAAeA,CAAA,EAAG;IACzBjB,UAAU,CAACF,IAAI,CAAC;EAClB;EAEA,SAASoB,WAAWA,CAAA,EAAG;IACrBnB,WAAW,CAACD,IAAI,CAAC;EACnB;EAEA,oBACEJ,OAAA;IAASyB,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACvB1B,OAAA;MACE2B,GAAG,EAAEvB,IAAI,CAACwB,IAAK;MACfC,GAAG,EAAEzB,IAAI,CAAC0B,IAAK;MACfL,SAAS,EAAC,aAAa;MACvBM,OAAO,EAAEP;IAAY;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACrB,eACFnC,OAAA;MAAIyB,SAAS,EAAC,aAAa;MAAAC,QAAA,EAAEtB,IAAI,CAAC0B;IAAI;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAM,eAC5CnC,OAAA;MAAKyB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,gBACjC1B,OAAA;QACEoC,IAAI,EAAC,QAAQ;QACbX,SAAS,EAAEJ,uBAAwB;QACnCU,OAAO,EAAER;MAAgB;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjB,eACVnC,OAAA;QAAMyB,SAAS,EAAC,kCAAkC;QAAAC,QAAA,EAC/CtB,IAAI,CAACa,KAAK,CAACoB;MAAM;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACb;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACH,EACLtB,KAAK,iBACJb,OAAA;MACEyB,SAAS,EAAC,kCAAkC;MAC5CM,OAAO,EAAET;IAAkB;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAE9B;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACO;AAEd;AAAChC,EAAA,CAvDQF,IAAI;AAAAqC,EAAA,GAAJrC,IAAI;AAyDb,eAAeA,IAAI;AAAC,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}