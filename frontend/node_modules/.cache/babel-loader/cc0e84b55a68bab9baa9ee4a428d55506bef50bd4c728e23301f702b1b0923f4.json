{"ast":null,"code":"import _classCallCheck from\"C:/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._url=baseUrl;this._headers=headers;}_createClass(Api,[{key:\"_request\",value:function _request(baseUrl,headers){return fetch(baseUrl,headers).then(this._checkResponse);}},{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return this._request(\"\".concat(this._url,\"/users/me\"),{method:\"GET\",headers:this._headers});}},{key:\"getCards\",value:function getCards(){return this._request(\"\".concat(this._url,\"/cards\"),{method:\"GET\",headers:this._headers});}},{key:\"editUserInfo\",value:function editUserInfo(data){return this._request(\"\".concat(this._url,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:data.name,about:data.about})});}},{key:\"editAvatar\",value:function editAvatar(userAvatar){return this._request(\"\".concat(this._url,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:userAvatar})});}},{key:\"addCard\",value:function addCard(cardData){return this._request(\"\".concat(this._url,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:cardData.name,link:cardData.link})});}},{key:\"addLike\",value:function addLike(cardId){return this._request(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:\"PUT\",headers:this._headers});}},{key:\"deleteLike\",value:function deleteLike(cardId){return this._request(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:\"DELETE\",headers:this._headers});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){isLiked?this.deleteLike(cardId):this.addLike(cardId);}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._request(\"\".concat(this._url,\"/cards/\").concat(cardId),{method:\"DELETE\",headers:this._headers});}}]);return Api;}();var api=new Api({baseUrl:\"http://51.250.89.67:3000\"});//http://51.250.89.67:3000\nexport default api;","map":{"version":3,"names":["Api","_ref","baseUrl","headers","_classCallCheck","_url","_headers","_createClass","key","value","_request","fetch","then","_checkResponse","res","ok","json","Promise","reject","concat","status","getUserInfo","method","getCards","editUserInfo","data","body","JSON","stringify","name","about","editAvatar","userAvatar","avatar","addCard","cardData","link","addLike","cardId","deleteLike","changeLikeCardStatus","isLiked","deleteCard","api"],"sources":["C:/dev/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._url = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  _request(baseUrl, headers) {\r\n    return fetch(baseUrl, headers).then(this._checkResponse);\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._request(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  getCards() {\r\n    return this._request(`${this._url}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return this._request(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    });\r\n  }\r\n\r\n  editAvatar(userAvatar) {\r\n    return this._request(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: userAvatar,\r\n      }),\r\n    });\r\n  }\r\n\r\n  addCard(cardData) {\r\n    return this._request(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: cardData.name,\r\n        link: cardData.link,\r\n      }),\r\n    });\r\n  }\r\n\r\n  addLike(cardId) {\r\n    return this._request(`${this._url}/cards/${cardId}/likes`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  deleteLike(cardId) {\r\n    return this._request(`${this._url}/cards/${cardId}/likes`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    isLiked ? this.deleteLike(cardId) : this.addLike(cardId);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._request(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"http://51.250.89.67:3000\",\r\n});\r\n//http://51.250.89.67:3000\r\nexport default api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}